const mongoose=require("mongoose"),bcrypt=require("bcryptjs"),userSchema=new mongoose.Schema({name:{type:String,required:!0},email:{type:String,required:!0,unique:!0},password:{type:String,required:!0},createdAt:{type:Date,default:Date.now}});userSchema.pre("save",(async function(e){if(!this.isModified("password"))return e();this.password=await bcrypt.hash(this.password,10),e()})),userSchema.methods.comparePassword=async function(e){return await bcrypt.compare(e,this.password)},module.exports=mongoose.model("User",userSchema);